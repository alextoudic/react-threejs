(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(26)},24:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(14),o=n.n(i),c=(n(24),n(1)),s=n(3),u=n(6),h=n(4),l=n(5),d=n(32),m=n(15),p=n(16),f=n(0),v=n(30),w=n(33),b=n(31),j=n(17),O=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).clock=new f.b,n.state={elapsedTime:0,delta:0},n.onFrame=function(){n.setState({elapsedTime:n.clock.getElapsedTime(),delta:n.clock.getDelta()}),window.requestAnimationFrame(n.onFrame)},n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.requestAnimationFrame(this.onFrame)}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.onFrame)}},{key:"render",value:function(){var e=this.props.children;return e(Object(j.a)({},this.state))}}]),t}(a.Component),y=r.a.createContext({setScene:function(){},setCamera:function(){}}),g=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).frame=0,n.canvas=r.a.createRef(),n.passes=[],n.setScene=function(e){return n.scene=e},n.setCamera=function(e){return n.camera=e},n.addPass=function(e){n.passes.push(e)},n.update=function(e){var t=e.delta;return n.composer&&n.composer.render(t),null},n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.renderer=new f.u({canvas:this.canvas.current});var e=this.props,t=e.width,n=e.height;this.renderer.setSize(t,n),this.renderer.setPixelRatio(window.devicePixelRatio),this.composer=new v.a(this.renderer);var a=new w.a(this.scene,this.camera);if(this.composer.addPass(a),a.renderToScreen=!0,this.passes.length){a.renderToScreen=!1;var r=Object(m.a)(b.a,[this.camera].concat(Object(p.a)(this.passes)));r.renderToScreen=!0,this.composer.addPass(r)}}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,a=e.children;return this.renderer&&(this.renderer.setSize(t,n),this.renderer.setPixelRatio(window.devicePixelRatio)),r.a.createElement(y.Provider,{value:{addPass:this.addPass,setScene:this.setScene,setCamera:this.setCamera}},r.a.createElement(O,{children:this.update}),r.a.createElement("canvas",{ref:this.canvas}),a)}}]),t}(a.Component);g.defaultProps={onTick:function(){}};var k=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.context.addPass(new d.a)}},{key:"render",value:function(){return this.props.children}}]),t}(a.Component);k.contextType=y;var x=k,E=r.a.createContext({addToScene:function(){}}),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).addToScene=function(e){return n.scene.add(e)},n.scene=new f.n,n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.context.setScene(this.scene)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement(E.Provider,{value:{addToScene:this.addToScene}},e)}}]),t}(a.Component);S.contextType=y;var T=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(u.a)(this,Object(h.a)(t).call(this,e));var a=e.fov,r=e.aspect,i=e.near,o=e.far;return n.camera=new f.j(a,r,i,o),n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.setCamera(this.camera),this.props.addToScene(this.camera)}},{key:"render",value:function(){var e=this.props,t=e.aspect,n=e.position;for(var a in this.camera.aspect=t,this.camera.updateProjectionMatrix(),n)this.camera.position[a]=n[a];return null}}]),t}(a.PureComponent);T.defaultProps={position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0}};var C=function(e){return r.a.createElement(y.Consumer,null,function(t){var n=t.setCamera;return r.a.createElement(E.Consumer,null,function(t){var a=t.addToScene;return r.a.createElement(T,Object.assign({},e,{setCamera:n,addToScene:a}))})})},P=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(u.a)(this,Object(h.a)(t).call(this,e));var a=e.size,r=new f.a(a,a,a),i=new f.h;return n.mesh=new f.g(r,i),n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.context.addToScene(this.mesh)}},{key:"render",value:function(){var e=this.props,t=e.position,n=e.rotation;for(var a in t)this.mesh.position[a]=t[a];for(var r in n)this.mesh.rotation[r]=n[r];return null}}]),t}(a.Component);P.contextType=E,P.defaultProps={position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0}};var z=n(29),M=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).effect=new z.a(e.granularity),n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.context.addPass(this.effect)}},{key:"render",value:function(){return this.effect.setGranularity(this.props.granularity),this.props.children}}]),t}(a.Component);M.contextType=y;var D=M,F=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(u.a)(this,Object(h.a)(t).call(this,e));var a=e.radius,r=e.widthSegments,i=e.heightSegments,o=new f.p(a,r,i),s=new f.h;return n.mesh=new f.g(o,s),n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.context.addToScene(this.mesh)}},{key:"render",value:function(){var e=this.props,t=e.position,n=e.rotation;for(var a in t)this.mesh.position[a]=t[a];for(var r in n)this.mesh.rotation[r]=n[r];return null}}]),t}(a.Component);F.contextType=E,F.defaultProps={widthSegments:32,heightSegments:32,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0}};var R=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={width:window.innerWidth,height:window.innerHeight},e.onResize=function(){e.setState({width:window.innerWidth,height:window.innerHeight})},window.addEventListener("resize",e.onResize),e}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this.state,t=e.width,n=e.height,a=this.props.children;return a({width:t,height:n})}}]),t}(a.Component),W=2*Math.PI,A=function(){return r.a.createElement(R,null,function(e){var t=e.width,n=e.height;return r.a.createElement(g,{width:t,height:n},r.a.createElement(x,null,r.a.createElement(D,{granularity:20},r.a.createElement(S,null,r.a.createElement(C,{fov:75,aspect:t/n,near:.1,far:2e3,position:{z:600}}),r.a.createElement(O,null,function(e){var t=e.elapsedTime;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{size:200,rotation:{x:Math.cos(t/2)*W,y:Math.sin(t/2)*W,z:Math.tan(t/2)*W}}))})))))})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(function(){return r.a.createElement(a.Fragment,null,r.a.createElement(A,null),r.a.createElement("div",{className:"infos"},r.a.createElement("p",null,"The only purpose of this demo is to experiment manipulating WebGL through JSX.",r.a.createElement("br",null),"Check out sources on"," ",r.a.createElement("a",{href:"https://github.com/alextoudic/react-threejs"},"GitHub"),"."),r.a.createElement("a",{className:"twitter",href:"https://twitter.com/alextoudic",target:"_blank",rel:"noopener noreferrer"},"@alextoudic")))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.cef52b9b.chunk.js.map