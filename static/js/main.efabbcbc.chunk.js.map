{"version":3,"sources":["components/three/Clock.js","components/three/Renderer.js","components/three/BloomPass.js","components/three/Scene.js","components/three/Camera.js","components/three/Cube.js","components/three/PixelationPass.js","components/three/Sphere.js","components/Resize.js","components/Experiment.js","App.js","serviceWorker.js","index.js"],"names":["Clock","clock","TClock","state","elapsedTime","delta","onFrame","_this","setState","getElapsedTime","getDelta","window","requestAnimationFrame","this","cancelAnimationFrame","render","props","children","Object","objectSpread","Component","Context","React","createContext","setScene","setCamera","Renderer","frame","canvas","createRef","passes","scene","camera","addPass","pass","push","update","_ref","composer","renderer","TWebGLRenderer","current","_this$props","width","height","setSize","setPixelRatio","devicePixelRatio","EffectComposer","renderPass","RenderPass","renderToScreen","length","effect","construct","EffectPass","concat","toConsumableArray","_this$props2","react_default","a","createElement","Provider","value","Clock_Clock","ref","defaultProps","onTick","BloomPass","context","BloomEffect","contextType","addToScene","Scene","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","element","add","TScene","Scene_Context","RendererContext","Camera","fov","aspect","near","far","TPerspectiveCamera","position","key","updateProjectionMatrix","PureComponent","x","y","z","rotation","EnhancedCamera","Consumer","_ref2","Camera_Camera","assign","displayName","Cube","size","geometry","BoxGeometry","material","MeshNormalMaterial","mesh","Mesh","PixelationPass","PixelationEffect","granularity","setGranularity","radius","widthSegments","heightSegments","SphereBufferGeometry","Resize","innerWidth","innerHeight","onResize","addEventListener","removeEventListener","_this$state","M_2_PI","Math","PI","Experiment","Resize_Resize","Renderer_Renderer","three_BloomPass","three_PixelationPass","Scene_Scene","three_Camera","Fragment","Cube_Cube","cos","sin","tan","App","react","components_Experiment","className","href","target","rel","Boolean","location","hostname","match","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.efabbcbc.chunk.js","sourcesContent":["import { Clock as TClock } from 'three'\nimport { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class Clock extends Component {\n  static propTypes = {\n    children: PropTypes.func\n  }\n\n  clock = new TClock()\n\n  state = {\n    elapsedTime: 0,\n    delta: 0\n  }\n\n  componentDidMount () {\n    window.requestAnimationFrame(this.onFrame)\n  }\n\n  componentWillUnmount () {\n    window.cancelAnimationFrame(this.onFrame)\n  }\n\n  onFrame = () => {\n    this.setState({\n      elapsedTime: this.clock.getElapsedTime(),\n      delta: this.clock.getDelta()\n    })\n\n    window.requestAnimationFrame(this.onFrame)\n  }\n\n  render () {\n    const { children: render } = this.props\n\n    return render({ ...this.state })\n  }\n}\n","import { WebGLRenderer as TWebGLRenderer } from 'three'\nimport { EffectComposer, RenderPass, EffectPass } from 'postprocessing'\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport Clock from './Clock'\n\nexport const Context = React.createContext({\n  setScene: () => {},\n  setCamera: () => {}\n})\n\nexport default class Renderer extends Component {\n  static propTypes = {\n    width: PropTypes.number,\n    height: PropTypes.number,\n    children: PropTypes.element\n  }\n\n  static defaultProps = {\n    onTick: () => {}\n  }\n\n  frame = 0\n  canvas = React.createRef()\n  passes = []\n\n  componentDidMount () {\n    this.renderer = new TWebGLRenderer({\n      canvas: this.canvas.current\n    })\n\n    const { width, height } = this.props\n    this.renderer.setSize(width, height)\n    this.renderer.setPixelRatio(window.devicePixelRatio)\n    this.composer = new EffectComposer(this.renderer)\n\n    const renderPass = new RenderPass(this.scene, this.camera)\n    this.composer.addPass(renderPass)\n    renderPass.renderToScreen = true\n\n    if (this.passes.length) {\n      renderPass.renderToScreen = false\n      const effect = new EffectPass(this.camera, ...this.passes)\n      effect.renderToScreen = true\n      this.composer.addPass(effect)\n    }\n  }\n\n  setScene = scene => (this.scene = scene)\n\n  setCamera = camera => (this.camera = camera)\n\n  addPass = pass => {\n    this.passes.push(pass)\n  }\n\n  update = ({ delta }) => {\n    if (this.composer) {\n      this.composer.render(delta)\n    }\n\n    return null\n  }\n\n  render () {\n    const { width, height, children } = this.props\n\n    if (this.renderer) {\n      this.renderer.setSize(width, height)\n      this.renderer.setPixelRatio(window.devicePixelRatio)\n    }\n\n    return (\n      <Context.Provider\n        value={{\n          addPass: this.addPass,\n          setScene: this.setScene,\n          setCamera: this.setCamera\n        }}\n      >\n        <Clock children={this.update} />\n        <canvas ref={this.canvas} />\n        {children}\n      </Context.Provider>\n    )\n  }\n}\n","import { Component } from 'react'\nimport { BloomEffect } from 'postprocessing'\n\nimport { Context } from './Renderer'\n\nclass BloomPass extends Component {\n  static contextType = Context\n\n  componentDidMount () {\n    this.context.addPass(new BloomEffect())\n  }\n\n  render () {\n    return this.props.children\n  }\n}\n\nexport default BloomPass\n","import { Scene as TScene } from 'three'\nimport React, { Component } from 'react'\n\nimport { Context as RendererContext } from './Renderer'\nexport const Context = React.createContext({ addToScene: () => {} })\n\nexport default class Scene extends Component {\n  static contextType = RendererContext\n\n  constructor (props) {\n    super(props)\n\n    this.scene = new TScene()\n  }\n\n  componentDidMount () {\n    this.context.setScene(this.scene)\n  }\n\n  addToScene = element => this.scene.add(element)\n\n  render () {\n    const { children } = this.props\n\n    return (\n      <Context.Provider value={{ addToScene: this.addToScene }}>\n        {children}\n      </Context.Provider>\n    )\n  }\n}\n","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport { PerspectiveCamera as TPerspectiveCamera } from 'three'\n\nimport { Context as RendererContext } from './Renderer'\nimport { Context as SceneContext } from './Scene'\n\nclass Camera extends PureComponent {\n  static propTypes = {\n    setCamera: PropTypes.func,\n    addToScene: PropTypes.func,\n    fov: PropTypes.number, // Camera frustum vertical field of view.\n    aspect: PropTypes.number, // Camera frustum aspect ratio.\n    near: PropTypes.number, // Camera frustum near plane.\n    far: PropTypes.number, // Camera frustum far plane.\n    position: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      z: PropTypes.number\n    }),\n    rotation: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      z: PropTypes.number\n    })\n  }\n\n  static defaultProps = {\n    position: {\n      x: 0,\n      y: 0,\n      z: 0\n    },\n    rotation: {\n      x: 0,\n      y: 0,\n      z: 0\n    }\n  }\n\n  constructor (props) {\n    super(props)\n\n    const { fov, aspect, near, far } = props\n    this.camera = new TPerspectiveCamera(fov, aspect, near, far)\n  }\n\n  componentDidMount () {\n    this.props.setCamera(this.camera)\n    this.props.addToScene(this.camera)\n  }\n\n  render () {\n    // const { aspect, position, rotation } = this.props\n    const { aspect, position } = this.props\n\n    this.camera.aspect = aspect\n    this.camera.updateProjectionMatrix()\n\n    for (const key in position) {\n      this.camera.position[key] = position[key]\n    }\n\n    // for (const key in rotation) {\n    //   this.camera.rotation[key] = rotation[key]\n    // }\n\n    return null\n  }\n}\n\nconst EnhancedCamera = props => (\n  <RendererContext.Consumer>\n    {({ setCamera }) => (\n      <SceneContext.Consumer>\n        {({ addToScene }) => (\n          <Camera {...props} setCamera={setCamera} addToScene={addToScene} />\n        )}\n      </SceneContext.Consumer>\n    )}\n  </RendererContext.Consumer>\n)\n\nEnhancedCamera.displayName = 'withRenderer(withScene(Camera))'\n\nexport default EnhancedCamera\n","import { BoxGeometry, MeshNormalMaterial, Mesh } from 'three'\nimport { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { Context } from './Scene'\n\nexport default class Cube extends Component {\n  static contextType = Context\n\n  static propTypes = {\n    size: PropTypes.number,\n    position: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      z: PropTypes.number\n    }),\n    rotation: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      z: PropTypes.number\n    })\n  }\n\n  static defaultProps = {\n    position: {\n      x: 0,\n      y: 0,\n      z: 0\n    },\n    rotation: {\n      x: 0,\n      y: 0,\n      z: 0\n    }\n  }\n\n  constructor (props) {\n    super(props)\n\n    const { size } = props\n    const geometry = new BoxGeometry(size, size, size)\n    const material = new MeshNormalMaterial()\n    this.mesh = new Mesh(geometry, material)\n  }\n\n  componentDidMount () {\n    this.context.addToScene(this.mesh)\n  }\n\n  render () {\n    const { position, rotation } = this.props\n\n    for (const key in position) {\n      this.mesh.position[key] = position[key]\n    }\n\n    for (const key in rotation) {\n      this.mesh.rotation[key] = rotation[key]\n    }\n\n    return null\n  }\n}\n","import { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { PixelationEffect } from 'postprocessing'\n\nimport { Context } from './Renderer'\n\nclass PixelationPass extends Component {\n  static contextType = Context\n\n  static propTypes = {\n    granularity: PropTypes.number\n  }\n\n  constructor (props) {\n    super(props)\n\n    this.effect = new PixelationEffect(props.granularity)\n  }\n\n  componentDidMount () {\n    this.context.addPass(this.effect)\n  }\n\n  render () {\n    this.effect.setGranularity(this.props.granularity)\n\n    return this.props.children\n  }\n}\n\nexport default PixelationPass\n","import { SphereBufferGeometry, MeshNormalMaterial, Mesh } from 'three'\nimport { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { Context } from './Scene'\n\nexport default class Cube extends Component {\n  static contextType = Context\n\n  static propTypes = {\n    radius: PropTypes.number,\n    widthSegments: PropTypes.number,\n    heightSegments: PropTypes.number,\n    position: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      z: PropTypes.number\n    }),\n    rotation: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number,\n      z: PropTypes.number\n    })\n  }\n\n  static defaultProps = {\n    widthSegments: 32,\n    heightSegments: 32,\n    position: {\n      x: 0,\n      y: 0,\n      z: 0\n    },\n    rotation: {\n      x: 0,\n      y: 0,\n      z: 0\n    }\n  }\n\n  constructor (props) {\n    super(props)\n\n    const { radius, widthSegments, heightSegments } = props\n    const geometry = new SphereBufferGeometry(\n      radius,\n      widthSegments,\n      heightSegments\n    )\n    const material = new MeshNormalMaterial()\n    this.mesh = new Mesh(geometry, material)\n  }\n\n  componentDidMount () {\n    this.context.addToScene(this.mesh)\n  }\n\n  render () {\n    const { position, rotation } = this.props\n\n    for (const key in position) {\n      this.mesh.position[key] = position[key]\n    }\n\n    for (const key in rotation) {\n      this.mesh.rotation[key] = rotation[key]\n    }\n\n    return null\n  }\n}\n","import { Component } from 'react'\n\nexport default class Resize extends Component {\n  state = {\n    width: window.innerWidth,\n    height: window.innerHeight\n  }\n\n  constructor () {\n    super()\n    window.addEventListener('resize', this.onResize)\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('resize', this.onResize)\n  }\n\n  onResize = () => {\n    this.setState({\n      width: window.innerWidth,\n      height: window.innerHeight\n    })\n  }\n\n  render () {\n    const { width, height } = this.state\n    const { children: render } = this.props\n\n    return render({ width, height })\n  }\n}\n","import React from 'react'\n\nimport {\n  Clock,\n  Renderer,\n  BloomPass,\n  PixelationPass,\n  Camera,\n  Scene,\n  Cube\n} from './three'\n\nimport Resize from './Resize'\n\nconst M_2_PI = Math.PI * 2\nconst Experiment = () => (\n  <Resize>\n    {({ width, height }) => (\n      <Renderer width={width} height={height}>\n        <BloomPass>\n          <PixelationPass granularity={20.0}>\n            <Scene>\n              <Camera\n                fov={75}\n                aspect={width / height}\n                near={0.1}\n                far={2000}\n                position={{\n                  z: 600\n                }}\n              />\n              <Clock>\n                {({ elapsedTime }) => (\n                  <React.Fragment>\n                    {/* <p className='debug'>time: {elapsedTime}</p> */}\n                    <Cube\n                      size={200}\n                      rotation={{\n                        x: Math.cos(elapsedTime / 2) * M_2_PI,\n                        y: Math.sin(elapsedTime / 2) * M_2_PI,\n                        z: Math.tan(elapsedTime / 2) * M_2_PI\n                      }}\n                    />\n                  </React.Fragment>\n                )}\n              </Clock>\n            </Scene>\n          </PixelationPass>\n        </BloomPass>\n      </Renderer>\n    )}\n  </Resize>\n)\n\nExperiment.displayName = 'Experiment'\n\nexport default Experiment\n","import React, { Fragment } from 'react'\n\nimport Experiment from './components/Experiment'\n\nconst App = () => (\n  <Fragment>\n    <Experiment />\n    <div className='infos'>\n      <p>\n        The only purpose of this demo is to experiment manipulating WebGL\n        through JSX.\n        <br />\n        Check out sources on{' '}\n        <a href='https://github.com/alextoudic/react-threejs'>GitHub</a>.\n      </p>\n      <a\n        className='twitter'\n        href='https://twitter.com/alextoudic'\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        @alextoudic\n      </a>\n    </div>\n  </Fragment>\n)\n\nApp.displayName = 'App'\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}